shinyUI(fluidPage(
  titlePanel("Discover Cost of Procedure in your state / zip"),

  # updated in the output area immediately as you change values
  sidebarLayout(
    sidebarPanel(      
      # Initially data was loaded from the dataset, but loading time was very high, hence they were preloaded
      #    uiOutput('procedure_name'),
      #    uiOutput('states'),
      
      selectInput('state','US State',multiple = TRUE, selected= c("NC","FL"), choices = c("AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY")),      
      selectInput('procedure','Procedure name', c("EXTRACRANIAL PROCEDURES W/O CC/MCC", "DEGENERATIVE NERVOUS SYSTEM DISORDERS W/O MCC", "INTRACRANIAL HEMORRHAGE OR CEREBRAL INFARCTION W MCC", "INTRACRANIAL HEMORRHAGE OR CEREBRAL INFARCTION W CC", "INTRACRANIAL HEMORRHAGE OR CEREBRAL INFARCTION W/O CC/MCC", "TRANSIENT ISCHEMIA", "CRANIAL & PERIPHERAL NERVE DISORDERS W/O MCC", "SEIZURES W/O MCC", "DYSEQUILIBRIUM", "PULMONARY EMBOLISM W/O MCC", "RESPIRATORY INFECTIONS & INFLAMMATIONS W MCC", "RESPIRATORY INFECTIONS & INFLAMMATIONS W CC", "PULMONARY EDEMA & RESPIRATORY FAILURE", "CHRONIC OBSTRUCTIVE PULMONARY DISEASE W MCC", "CHRONIC OBSTRUCTIVE PULMONARY DISEASE W CC", "CHRONIC OBSTRUCTIVE PULMONARY DISEASE W/O CC/MCC", "SIMPLE PNEUMONIA & PLEURISY W MCC", "SIMPLE PNEUMONIA & PLEURISY W CC", "SIMPLE PNEUMONIA & PLEURISY W/O CC/MCC", "BRONCHITIS & ASTHMA W CC/MCC", "BRONCHITIS & ASTHMA W/O CC/MCC", "RESPIRATORY SYSTEM DIAGNOSIS W VENTILATOR SUPPORT 96+ HOURS", "RESPIRATORY SYSTEM DIAGNOSIS W VENTILATOR SUPPORT <96 HOURS", "MAJOR CARDIOVASC PROCEDURES W/O MCC", "PERMANENT CARDIAC PACEMAKER IMPLANT W CC", "PERMANENT CARDIAC PACEMAKER IMPLANT W/O CC/MCC", "PERC CARDIOVASC PROC W DRUG-ELUTING STENT W MCC OR 4+ VESSELS/STENTS", "PERC CARDIOVASC PROC W DRUG-ELUTING STENT W/O MCC", "PERC CARDIOVASC PROC W NON-DRUG-ELUTING STENT W/O MCC", "PERC CARDIOVASC PROC W/O CORONARY ARTERY STENT W/O MCC", "OTHER VASCULAR PROCEDURES W MCC", "OTHER VASCULAR PROCEDURES W CC", "OTHER VASCULAR PROCEDURES W/O CC/MCC", "ACUTE MYOCARDIAL INFARCTION, DISCHARGED ALIVE W MCC", "ACUTE MYOCARDIAL INFARCTION, DISCHARGED ALIVE W CC", "ACUTE MYOCARDIAL INFARCTION, DISCHARGED ALIVE W/O CC/MCC", "CIRCULATORY DISORDERS EXCEPT AMI, W CARD CATH W MCC", "CIRCULATORY DISORDERS EXCEPT AMI, W CARD CATH W/O MCC", "HEART FAILURE & SHOCK W MCC", "HEART FAILURE & SHOCK W CC", "HEART FAILURE & SHOCK W/O CC/MCC", "PERIPHERAL VASCULAR DISORDERS W CC", "PERIPHERAL VASCULAR DISORDERS W/O CC/MCC", "ATHEROSCLEROSIS W/O MCC", "HYPERTENSION W/O MCC", "CARDIAC ARRHYTHMIA & CONDUCTION DISORDERS W MCC", "CARDIAC ARRHYTHMIA & CONDUCTION DISORDERS W CC", "CARDIAC ARRHYTHMIA & CONDUCTION DISORDERS W/O CC/MCC", "SYNCOPE & COLLAPSE", "CHEST PAIN", "OTHER CIRCULATORY SYSTEM DIAGNOSES W MCC", "OTHER CIRCULATORY SYSTEM DIAGNOSES W CC", "MAJOR SMALL & LARGE BOWEL PROCEDURES W MCC", "MAJOR SMALL & LARGE BOWEL PROCEDURES W CC", "MAJOR GASTROINTESTINAL DISORDERS & PERITONEAL INFECTIONS W CC", "G.I. HEMORRHAGE W MCC", "G.I. HEMORRHAGE W CC", "G.I. HEMORRHAGE W/O CC/MCC", "G.I. OBSTRUCTION W CC", "G.I. OBSTRUCTION W/O CC/MCC", "ESOPHAGITIS, GASTROENT & MISC DIGEST DISORDERS W MCC", "ESOPHAGITIS, GASTROENT & MISC DIGEST DISORDERS W/O MCC", "OTHER DIGESTIVE SYSTEM DIAGNOSES W CC", "LAPAROSCOPIC CHOLECYSTECTOMY W/O C.D.E. W CC", "LAPAROSCOPIC CHOLECYSTECTOMY W/O C.D.E. W/O CC/MCC", "DISORDERS OF PANCREAS EXCEPT MALIGNANCY W CC", "SPINAL FUSION EXCEPT CERVICAL W/O MCC", "MAJOR JOINT REPLACEMENT OR REATTACHMENT OF LOWER EXTREMITY W MCC", "MAJOR JOINT REPLACEMENT OR REATTACHMENT OF LOWER EXTREMITY W/O MCC", "CERVICAL SPINAL FUSION W/O CC/MCC", "HIP & FEMUR PROCEDURES EXCEPT MAJOR JOINT W MCC", "HIP & FEMUR PROCEDURES EXCEPT MAJOR JOINT W CC", "HIP & FEMUR PROCEDURES EXCEPT MAJOR JOINT W/O CC/MCC", "BACK & NECK PROC EXC SPINAL FUSION W/O CC/MCC", "FRACTURES OF HIP & PELVIS W/O MCC", "MEDICAL BACK PROBLEMS W/O MCC", "FX, SPRN, STRN & DISL EXCEPT FEMUR, HIP, PELVIS & THIGH W/O MCC", "CELLULITIS W MCC", "CELLULITIS W/O MCC", "DIABETES W CC", "MISC DISORDERS OF NUTRITION,METABOLISM,FLUIDS/ELECTROLYTES W MCC", "MISC DISORDERS OF NUTRITION,METABOLISM,FLUIDS/ELECTROLYTES W/O MCC", "RENAL FAILURE W MCC", "RENAL FAILURE W CC", "RENAL FAILURE W/O CC/MCC", "KIDNEY & URINARY TRACT INFECTIONS W MCC", "KIDNEY & URINARY TRACT INFECTIONS W/O MCC", "OTHER KIDNEY & URINARY TRACT DIAGNOSES W MCC", "OTHER KIDNEY & URINARY TRACT DIAGNOSES W CC", "RED BLOOD CELL DISORDERS W MCC", "RED BLOOD CELL DISORDERS W/O MCC", "INFECTIOUS & PARASITIC DISEASES W O.R. PROCEDURE W MCC", "SEPTICEMIA OR SEVERE SEPSIS W MV 96+ HOURS", "SEPTICEMIA OR SEVERE SEPSIS W/O MV 96+ HOURS W MCC", "SEPTICEMIA OR SEVERE SEPSIS W/O MV 96+ HOURS W/O MCC", "PSYCHOSES", "ALCOHOL/DRUG ABUSE OR DEPENDENCE W/O REHABILITATION THERAPY W/O MCC", "POISONING & TOXIC EFFECTS OF DRUGS W MCC", "POISONING & TOXIC EFFECTS OF DRUGS W/O MCC", "SIGNS & SYMPTOMS W/O MCC") ),
 #     numericInput("zip", "Zip:", 33131)      
      h4("!!! Data set size is huge, Response time will suffer",id = "large_size_alert")
 
 ),
    
    mainPanel(
      tags$a(href="https://data.cms.gov/Medicare/Inpatient-Prospective-Payment-System-IPPS-Provider/97k6-zzx3","Data source: data.cms.gov"),      
      h3("This page will help you to find cost of different procedures in your state. "),     
      h4("Select multiple states and procedure. Wait for record to be updated. Use search/filter in options to figure out best place to go for that procedure"),     
      # Shows list of health facilities with their primary detail and cost of procedure
      dataTableOutput('procedure_detail')
    )
  )
))